{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from \"@/router\";\nimport request from \"@/utils/request\";\nimport ElementUI from \"element-ui\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    hasRoutes: false,\n    uploadHeaders: localStorage.getItem(\"token\") ? JSON.parse(localStorage.getItem(\"token\")) : '',\n    avatarUrl: localStorage.getItem(\"user\") === null ? \"\" : JSON.parse(localStorage.getItem(\"user\" || \"[]\")).avatarUrl\n  },\n  getters: {},\n  mutations: {\n    changeAvatarUrl() {\n      let user = JSON.parse(localStorage.getItem(\"user\"));\n      console.log(this.state.avatarUrl);\n      console.log(user.avatarUrl);\n      this.state.avatarUrl = user.avatarUrl;\n    },\n    logout() {\n      request.post(\"/logout\").then(res => {\n        if (res.code === 200) {\n          ElementUI.Message({\n            message: \"退出成功\",\n            type: 'info'\n          });\n          //清空缓存\n          localStorage.clear();\n        }\n      });\n      router.replace(\"/login\");\n    },\n    SET_ROUTES_STATE: (state, hasRoutes) => {\n      state.hasRoutes = hasRoutes;\n    }\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","router","request","ElementUI","use","Store","state","hasRoutes","uploadHeaders","localStorage","getItem","JSON","parse","avatarUrl","getters","mutations","changeAvatarUrl","user","console","log","logout","post","then","res","code","Message","message","type","clear","replace","SET_ROUTES_STATE","actions","modules"],"sources":["F:/default/Desktop/shiro-vue/vue/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport router  from \"@/router\";\nimport request from \"@/utils/request\";\nimport ElementUI from \"element-ui\";\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    hasRoutes:false,\n    uploadHeaders: localStorage.getItem(\"token\") ? JSON.parse(localStorage.getItem(\"token\")) : '',\n    avatarUrl: localStorage.getItem(\"user\") === null ? \"\" : JSON.parse(localStorage.getItem(\"user\" || \"[]\")).avatarUrl\n  },\n  getters: {\n  },\n  mutations: {\n    changeAvatarUrl() {\n      let user = JSON.parse(localStorage.getItem(\"user\"))\n      console.log(this.state.avatarUrl)\n      console.log(user.avatarUrl)\n      this.state.avatarUrl = user.avatarUrl\n    },\n    logout() {\n      request.post(\"/logout\").then(res=>{\n        if(res.code===200){\n          ElementUI.Message({\n            message: \"退出成功\",\n            type: 'info'\n          });\n          //清空缓存\n          localStorage.clear()\n        }\n      })\n      router.replace(\"/login\")\n    },\n    SET_ROUTES_STATE:(state,hasRoutes)=>{\n      state.hasRoutes=hasRoutes\n    },\n  },\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,MAAM,MAAO,UAAU;AAC9B,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,SAAS,MAAM,YAAY;AAClCJ,GAAG,CAACK,GAAG,CAACJ,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACK,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,SAAS,EAAC,KAAK;IACfC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE;IAC7FG,SAAS,EAAEJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,GAAG,EAAE,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,CAAC,CAACG;EAC3G,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,eAAeA,CAAA,EAAG;MAChB,IAAIC,IAAI,GAAGN,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACnDQ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,KAAK,CAACO,SAAS,CAAC;MACjCK,OAAO,CAACC,GAAG,CAACF,IAAI,CAACJ,SAAS,CAAC;MAC3B,IAAI,CAACP,KAAK,CAACO,SAAS,GAAGI,IAAI,CAACJ,SAAS;IACvC,CAAC;IACDO,MAAMA,CAAA,EAAG;MACPlB,OAAO,CAACmB,IAAI,CAAC,SAAS,CAAC,CAACC,IAAI,CAACC,GAAG,IAAE;QAChC,IAAGA,GAAG,CAACC,IAAI,KAAG,GAAG,EAAC;UAChBrB,SAAS,CAACsB,OAAO,CAAC;YAChBC,OAAO,EAAE,MAAM;YACfC,IAAI,EAAE;UACR,CAAC,CAAC;UACF;UACAlB,YAAY,CAACmB,KAAK,CAAC,CAAC;QACtB;MACF,CAAC,CAAC;MACF3B,MAAM,CAAC4B,OAAO,CAAC,QAAQ,CAAC;IAC1B,CAAC;IACDC,gBAAgB,EAACA,CAACxB,KAAK,EAACC,SAAS,KAAG;MAClCD,KAAK,CAACC,SAAS,GAACA,SAAS;IAC3B;EACF,CAAC;EACDwB,OAAO,EAAE,CACT,CAAC;EACDC,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}