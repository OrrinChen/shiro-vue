{"ast":null,"code":"export default {\n  props: {\n    collapseBtnClass: String\n  },\n  data() {\n    //这里存放数据\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  //监听属性 类似于data概念\n  computed: {\n    // 面包屑数据\n    breadcrumb() {\n      //console.log(this.$route.matched)\n      //所有嵌套路径的片段的路由记录\n      let matchedArr = this.$route.matched.filter(item => {\n        return item.path !== \"\" && item.path !== '/home';\n      });\n      //console.log(\"当前所有的嵌套路由\", matchedArr)\n      return matchedArr;\n    }\n  },\n  //方法集合\n  methods: {\n    handleCommand(command) {\n      if (command === \"signOut\") {\n        this.$store.commit(\"logout\");\n      } else if (command === \"toPerson\") {\n        this.$router.replace('/person');\n      } else if (command === \"toEditPassword\") {\n        this.$router.replace('/password');\n      }\n    },\n    toPerson() {\n      this.$router.replace('/person');\n    },\n    collapse() {\n      this.$emit(\"collapse\");\n    }\n  },\n  //监控data中的数据变化\n  watch: {\n    '$store.state.avatarUrl'(newVal, oldVal) {\n      console.log(\"更新图片成功\");\n      this.user.avatarUrl = newVal;\n    }\n  }\n};","map":{"version":3,"names":["props","collapseBtnClass","String","data","user","localStorage","getItem","JSON","parse","computed","breadcrumb","matchedArr","$route","matched","filter","item","path","methods","handleCommand","command","$store","commit","$router","replace","toPerson","collapse","$emit","watch","$store.state.avatarUrl","newVal","oldVal","console","log","avatarUrl"],"sources":["src/components/Header.vue"],"sourcesContent":["<template>\n    <div style=\"line-height: 60px; display: flex\">\n        <div style=\"flex: 9;\">\n            <span :class=\"collapseBtnClass\" style=\"cursor: pointer; font-size: 18px\" @click=\"collapse\"></span>\n\n            <el-breadcrumb separator=\"/\" style=\"display: inline-block; margin-left: 10px\">\n                <el-breadcrumb-item :to=\"'/'\">首页</el-breadcrumb-item>\n                <el-breadcrumb-item v-for=\"(item,index) in breadcrumb\" :key=\"index\" :to=\"{ path: item.path}\">\n                    {{ item.name }}\n                </el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <el-dropdown  @command=\"handleCommand\" style=\"width: 100px;cursor: pointer;flex:1\">\n            <div style=\"display: inline-block\">\n                <img :src=\"user.avatarUrl\" alt=\"\"\n                     style=\"width: 30px; border-radius: 50%; position: relative; top: 10px; right: 5px\" @click=\"toPerson\">\n                <span >{{ user.nickname }}</span><i class=\"el-icon-arrow-down\" style=\"margin-left: 5px\"></i>\n            </div>\n            <el-dropdown-menu  slot=\"dropdown\" style=\"width: 100px; text-align: center\">\n                <el-dropdown-item command=\"toPerson\" style=\"font-size: 14px; padding: 5px 0\">\n                    <span style=\"display:inline-block;width:100%;text-decoration: none;\">个人信息</span>\n                </el-dropdown-item >\n                <el-dropdown-item command=\"toEditPassword\" style=\"font-size: 14px; padding: 5px 0\">\n                    <span style=\"display:inline-block;width:100%;text-decoration: none\">修改密码</span>\n                </el-dropdown-item>\n                <el-dropdown-item command=\"signOut\" style=\"font-size: 14px; padding: 5px 0\">\n                    <span style=\"display:inline-block;width:100%;text-decoration: none\">退出</span>\n                </el-dropdown-item>\n            </el-dropdown-menu>\n        </el-dropdown>\n    </div>\n</template>\n\n<script>\n    export default {\n        props: {\n            collapseBtnClass: String,\n        },\n        data() {\n            //这里存放数据\n            return {\n                user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n            };\n        },\n        //监听属性 类似于data概念\n        computed: {\n            // 面包屑数据\n            breadcrumb() {\n                //console.log(this.$route.matched)\n                //所有嵌套路径的片段的路由记录\n                let matchedArr = this.$route.matched.filter((item) => {\n                    return item.path !== \"\" && item.path !== '/home'\n                })\n                //console.log(\"当前所有的嵌套路由\", matchedArr)\n                return matchedArr;\n            },\n        },\n        //方法集合\n        methods: {\n            handleCommand (command) {\n                if(command ===\"signOut\"){\n                    this.$store.commit(\"logout\")\n                }else if(command ===\"toPerson\"){\n                    this.$router.replace('/person')\n                }else if(command === \"toEditPassword\"){\n                    this.$router.replace('/password')\n                }\n            },\n            toPerson(){\n                this.$router.replace('/person')\n            },\n            collapse() {\n                this.$emit(\"collapse\")\n            },\n        },\n        //监控data中的数据变化\n        watch: {\n            '$store.state.avatarUrl'(newVal,oldVal){\n                console.log(\"更新图片成功\")\n                this.user.avatarUrl = newVal\n            },\n        },\n    };\n</script>\n<style scoped>\n\n</style>\n"],"mappings":"AAkCA;EACAA,KAAA;IACAC,gBAAA,EAAAC;EACA;EACAC,KAAA;IACA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EACA;EACAG,QAAA;IACA;IACAC,WAAA;MACA;MACA;MACA,IAAAC,UAAA,QAAAC,MAAA,CAAAC,OAAA,CAAAC,MAAA,CAAAC,IAAA;QACA,OAAAA,IAAA,CAAAC,IAAA,WAAAD,IAAA,CAAAC,IAAA;MACA;MACA;MACA,OAAAL,UAAA;IACA;EACA;EACA;EACAM,OAAA;IACAC,cAAAC,OAAA;MACA,IAAAA,OAAA;QACA,KAAAC,MAAA,CAAAC,MAAA;MACA,WAAAF,OAAA;QACA,KAAAG,OAAA,CAAAC,OAAA;MACA,WAAAJ,OAAA;QACA,KAAAG,OAAA,CAAAC,OAAA;MACA;IACA;IACAC,SAAA;MACA,KAAAF,OAAA,CAAAC,OAAA;IACA;IACAE,SAAA;MACA,KAAAC,KAAA;IACA;EACA;EACA;EACAC,KAAA;IACA,wBAAAC,CAAAC,MAAA,EAAAC,MAAA;MACAC,OAAA,CAAAC,GAAA;MACA,KAAA5B,IAAA,CAAA6B,SAAA,GAAAJ,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}