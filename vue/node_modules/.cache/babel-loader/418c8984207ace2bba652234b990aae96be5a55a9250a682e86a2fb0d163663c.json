{"ast":null,"code":"import Vue from \"vue\";\nimport loading from \"@/components/Loading.vue\";\nlet LoadingConstructor = Vue.extend(loading);\nlet instance;\nlet close_status = false;\nlet timer = null;\n\n//设置自动关闭时长\nconst TIME = 6 * 1000;\nconst Loading = title => {\n  close_status = false;\n  if (instance) {\n    removeChild();\n  }\n  instance = new LoadingConstructor();\n  instance.$data.msg.title = title;\n  instance.$mount();\n  document.body.appendChild(instance.$el);\n  autoClose();\n  return instance;\n};\nLoading.close = function () {\n  close_status = true;\n  removeChild();\n};\nfunction removeChild() {\n  if (instance) {\n    instance.$el.parentNode.removeChild(instance.$el);\n    instance = null;\n  }\n}\n\n//未关闭则自动关闭\nfunction autoClose() {\n  clearTimeout(timer);\n  timer = setTimeout(() => {\n    if (!close_status) {\n      Loading.close();\n    }\n  }, TIME);\n}\nexport default Loading;","map":{"version":3,"names":["Vue","loading","LoadingConstructor","extend","instance","close_status","timer","TIME","Loading","title","removeChild","$data","msg","$mount","document","body","appendChild","$el","autoClose","close","parentNode","clearTimeout","setTimeout"],"sources":["F:/default/Desktop/shiro-vue/vue/src/utils/loading.js"],"sourcesContent":["import Vue from \"vue\";\n\nimport loading from \"@/components/Loading.vue\";\n\nlet LoadingConstructor = Vue.extend(loading);\n\nlet instance;\n\nlet close_status = false;\n\nlet timer = null;\n\n//设置自动关闭时长\nconst TIME = 6*1000;\n\nconst Loading = (title) => {\n    close_status = false;\n\n    if (instance) {\n        removeChild();\n    }\n    instance = new LoadingConstructor();\n    instance.$data.msg.title = title\n    instance.$mount();\n\n    document.body.appendChild(instance.$el);\n\n    autoClose();\n\n    return instance;\n};\n\nLoading.close = function() {\n    close_status = true;\n    removeChild();\n};\n\nfunction removeChild() {\n    if (instance) {\n        instance.$el.parentNode.removeChild(instance.$el);\n        instance = null;\n    }\n}\n\n//未关闭则自动关闭\nfunction autoClose() {\n    clearTimeout(timer);\n\n    timer = setTimeout(() => {\n        if (!close_status) {\n            Loading.close();\n        }\n    }, TIME);\n}\n\nexport default Loading;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AAErB,OAAOC,OAAO,MAAM,0BAA0B;AAE9C,IAAIC,kBAAkB,GAAGF,GAAG,CAACG,MAAM,CAACF,OAAO,CAAC;AAE5C,IAAIG,QAAQ;AAEZ,IAAIC,YAAY,GAAG,KAAK;AAExB,IAAIC,KAAK,GAAG,IAAI;;AAEhB;AACA,MAAMC,IAAI,GAAG,CAAC,GAAC,IAAI;AAEnB,MAAMC,OAAO,GAAIC,KAAK,IAAK;EACvBJ,YAAY,GAAG,KAAK;EAEpB,IAAID,QAAQ,EAAE;IACVM,WAAW,CAAC,CAAC;EACjB;EACAN,QAAQ,GAAG,IAAIF,kBAAkB,CAAC,CAAC;EACnCE,QAAQ,CAACO,KAAK,CAACC,GAAG,CAACH,KAAK,GAAGA,KAAK;EAChCL,QAAQ,CAACS,MAAM,CAAC,CAAC;EAEjBC,QAAQ,CAACC,IAAI,CAACC,WAAW,CAACZ,QAAQ,CAACa,GAAG,CAAC;EAEvCC,SAAS,CAAC,CAAC;EAEX,OAAOd,QAAQ;AACnB,CAAC;AAEDI,OAAO,CAACW,KAAK,GAAG,YAAW;EACvBd,YAAY,GAAG,IAAI;EACnBK,WAAW,CAAC,CAAC;AACjB,CAAC;AAED,SAASA,WAAWA,CAAA,EAAG;EACnB,IAAIN,QAAQ,EAAE;IACVA,QAAQ,CAACa,GAAG,CAACG,UAAU,CAACV,WAAW,CAACN,QAAQ,CAACa,GAAG,CAAC;IACjDb,QAAQ,GAAG,IAAI;EACnB;AACJ;;AAEA;AACA,SAASc,SAASA,CAAA,EAAG;EACjBG,YAAY,CAACf,KAAK,CAAC;EAEnBA,KAAK,GAAGgB,UAAU,CAAC,MAAM;IACrB,IAAI,CAACjB,YAAY,EAAE;MACfG,OAAO,CAACW,KAAK,CAAC,CAAC;IACnB;EACJ,CAAC,EAAEZ,IAAI,CAAC;AACZ;AAEA,eAAeC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}